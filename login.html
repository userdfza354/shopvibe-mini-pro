<!DOCTYPE html> <html lang="ar"> <head> <meta charset="UTF-8" /> <title>تسجيل الدخول</title> <link rel="stylesheet" href="style.css" /> </head> <body> <div class="container"> <h2>تسجيل الدخول</h2> <form id="loginForm"> <input type="email" id="email" placeholder="البريد الإلكتروني" required /> <input type="password" id="password" placeholder="كلمة المرور" required /> <button type="submit">دخول</button> </form> <p>ليس لديك حساب؟ <a href="register.html">تسجيل جديد</a></p> </div> <script> document.getElementById("loginForm").addEventListener("submit", async function(e) { e.preventDefault(); const res = await fetch("http://127.0.0.1:8000/login", { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams({ username: document.getElementById("email").value, password: document.getElementById("password").value }) }); if (res.ok) { const data = await res.json(); localStorage.setItem("token", data.access_token); alert("تم تسجيل الدخول"); window.location.href = "index.html"; } else { alert("فشل تسجيل الدخول"); } }); </script> </body> </html>